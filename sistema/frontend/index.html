<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<title>Gest√£o Eventos - Login</title>
<style>
body{background:#0f1724;color:#e6eef8;font-family:Arial;padding:40px;}
.container{max-width:420px;margin:0 auto;background:#111827;padding:20px;border-radius:8px;}
input,button{width:100%;padding:10px;margin:6px 0;border-radius:6px;border:1px solid #263241;background:#0b1220;color:#fff;}
button{background:#2563eb;border:none;color:#fff;cursor:pointer;}
a{color:#60a5fa}
</style>
</head>
<body>
<div class="container">
  <h2>Login</h2>
  <input id="email" placeholder="E-mail"/>
  <input id="senha" placeholder="Senha" type="password"/>
  <button onclick="login()">Entrar</button>
  <p>Use <b>admin@local</b> / <b>admin</b> para gerente (exemplo).</p>
  <p><a href="financeiro.html">Ir para Financeiro (teste)</a></p>
</div>
<script>
async function login(){
  const email = document.getElementById('email').value;
  const senha = document.getElementById('senha').value;
  const res = await fetch('/api/usuarios/login', {
    method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({email,senha})
  });
  const data = await res.json();
  if(res.ok){ alert('Logado: ' + data.nome + ' (role: ' + data.role + ')'); localStorage.setItem('usuario', JSON.stringify(data)); window.location='financeiro.html'; }
  else alert(data.error || 'Erro');
}
</script>
</body>
</html>

